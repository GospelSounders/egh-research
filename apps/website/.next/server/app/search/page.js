(()=>{var e={};e.id=797,e.ids=[797],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1061:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>o}),t(9255),t(4419),t(359),t(5999);var a=t(7188),s=t(8659),i=t(2067),l=t.n(i),n=t(9786),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let o=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9255)),"/home/brian/Code/MCPSERVERS/egw-writings-mcp/apps/website/src/app/search/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4419)),"/home/brian/Code/MCPSERVERS/egw-writings-mcp/apps/website/src/app/search/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,359)),"/home/brian/Code/MCPSERVERS/egw-writings-mcp/apps/website/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5999,23)),"next/dist/client/components/not-found-error"]}],c=["/home/brian/Code/MCPSERVERS/egw-writings-mcp/apps/website/src/app/search/page.tsx"],m="/search/page",x={require:t,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4924:(e,r,t)=>{Promise.resolve().then(t.bind(t,1812))},8025:()=>{},1812:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(7491),s=t(6364),i=t(1082),l=t(4393),n=t(6492);function d(){let e=(0,i.useSearchParams)(),r=e.get("q")||"",t=parseInt(e.get("page")||"1",10),[d,o]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),[h,u]=(0,s.useState)(!1),p=(e,r)=>{if(!r.trim())return e;let t=RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(t).map((e,r)=>t.test(e)?a.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:e},r):e)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(l.Z,{className:"h-6 w-6 text-gray-400"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Search Results"}),r&&(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:["Results for: ",(0,a.jsxs)("span",{className:"font-semibold",children:['"',r,'"']})]})]})]}),(0,a.jsxs)("button",{onClick:()=>u(!h),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Advanced Search"})]})]}),h&&(0,a.jsxs)("div",{className:"mt-6 bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"author-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Author"}),(0,a.jsxs)("select",{id:"author-filter",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"All Authors"}),a.jsx("option",{value:"Ellen G. White",children:"Ellen G. White"}),a.jsx("option",{value:"W. C. White",children:"W. C. White"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"year-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Publication Year"}),(0,a.jsxs)("select",{id:"year-filter",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"All Years"}),a.jsx("option",{value:"1800s",children:"1800-1899"}),a.jsx("option",{value:"1900s",children:"1900-1999"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"language-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Language"}),(0,a.jsxs)("select",{id:"language-filter",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"All Languages"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Use quotes for exact phrases, e.g., "righteousness by faith"'}),a.jsx("button",{onClick:()=>{u(!1)},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Apply Filters"})]})]})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d&&!c&&a.jsx("div",{className:"mb-6",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Found ",d.total," results in ",d.total>0?"0.12":"0"," seconds"]})}),c&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Searching..."})]}),x&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:x})}),d&&0===d.total&&!c&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(l.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"No results found"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Try adjusting your search terms or check your spelling."}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Search Tips:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[a.jsx("li",{children:"• Use different keywords or synonyms"}),a.jsx("li",{children:"• Check spelling and try simpler terms"}),a.jsx("li",{children:"• Use quotation marks for exact phrases"}),a.jsx("li",{children:"• Try broader search terms"})]})]})]}),d&&d.results.length>0&&!c&&a.jsx("div",{className:"space-y-6",children:d.results.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:a.jsx("a",{href:e.url,className:"hover:underline",children:p(e.title,r)})}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["by ",p(e.author,r)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-800 dark:text-primary-200",children:"Book"})})]}),a.jsx("div",{className:"mb-3",children:(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Reference: ",p(e.reference,r)]})}),a.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:a.jsx("p",{children:p(e.snippet,r)})}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:(0,a.jsxs)("span",{children:["Book ID: ",e.book_id]})}),a.jsx("a",{href:e.url,className:"inline-flex items-center text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"Read book →"})]})]},`${e.book_id}-${t}`))}),d&&d.total>20&&(0,a.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",d.offset+1," to ",Math.min(d.offset+d.limit,d.total)," of ",d.total," results"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("a",{href:t>1?`/search?q=${encodeURIComponent(r)}&page=${t-1}`:"#",className:`px-3 py-2 text-sm font-medium border rounded-md ${t>1?"text-primary-600 dark:text-primary-400 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700":"text-gray-500 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 cursor-not-allowed"}`,"aria-disabled":t<=1,children:"Previous"}),a.jsx("a",{href:d.offset+d.limit<d.total?`/search?q=${encodeURIComponent(r)}&page=${t+1}`:"#",className:`px-3 py-2 text-sm font-medium border rounded-md ${d.offset+d.limit<d.total?"text-primary-600 dark:text-primary-400 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700":"text-gray-500 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 cursor-not-allowed"}`,"aria-disabled":d.offset+d.limit>=d.total,children:"Next"})]})]}),!r&&!c&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(l.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Enter a search term"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Use the search bar to find books, authors, and content."})]})]})]})}function o(){return a.jsx(s.Suspense,{fallback:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Loading search..."})]}),children:a.jsx(d,{})})}t(4181)},4181:(e,r,t)=>{"use strict";t.d(r,{CP:()=>m,Nf:()=>o,Vb:()=>c,yZ:()=>d});let a=null,s=null;function i(){return"/egh-research"}async function l(){if(a)return a;try{let e=await fetch(`${i()}/api/data.json`);if(!e.ok)throw Error("Failed to load data");return a=await e.json()}catch(e){throw console.error("Error loading static data:",e),e}}async function n(){if(s)return s;try{let e=i(),r=await fetch(`${e}/api/books.json`);if(r.ok){let e=await r.json();return s=e.all||e}return s=(await l()).books.all}catch(e){throw console.error("Error loading books data:",e),e}}async function d(e={}){let{page:r=1,limit:t=50,lang:a,folder:s}=e,i=await n();a&&(i=i.filter(e=>e.lang===a)),s&&(i=i.filter(e=>e.folder===s));let l=(r-1)*t,d=i.slice(l,l+t),o=l+t<i.length?r+1:null,c=r>1?r-1:null,m=e=>{let r=new URLSearchParams({page:e.toString(),limit:t.toString(),...a&&{lang:a},...s&&{folder:s}});return`?${r.toString()}`};return{count:i.length,ipp:t,next:o?m(o):null,previous:c?m(c):null,results:d}}async function o(e){let{q:r,limit:t=20,offset:a=0}=e,s=await n(),i=r.toLowerCase(),l=s.filter(e=>e.title.toLowerCase().includes(i)||e.author.toLowerCase().includes(i)||e.description&&e.description.toLowerCase().includes(i)),d=l.slice(a,a+t).map(e=>({book_id:e.book_id,title:e.title,author:e.author,reference:`${e.title} (${e.pub_year})`,snippet:`${e.description||e.title} - ${e.author}`,url:`/books/${e.book_id}`}));return{query:r,total:l.length,limit:t,offset:a,results:d}}async function c(){return Object.keys((await l()).books.byLanguage).sort()}async function m(){return Object.keys((await l()).books.byCategory).sort()}},4419:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s,metadata:()=>a});let a={title:"Search Results - EGH Research",description:"Search results for Ellen Gould Harmon writings. Find books, chapters, and content across the complete digital library.",robots:{index:!0,follow:!0}};function s({children:e}){return e}},9255:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(4798).createProxy)(String.raw`/home/brian/Code/MCPSERVERS/egw-writings-mcp/apps/website/src/app/search/page.tsx#default`)},6492:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(6364);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))})}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[800,281,226],()=>t(1061));module.exports=a})();