(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{3397:function(e,t,a){Promise.resolve().then(a.bind(a,4011))},4011:function(e,t,a){"use strict";a.d(t,{default:function(){return b}});var s=a(8980),r=a(2208),n=a(9603);let l=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}),c=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});var i=a(8967),o=a(5999);let d=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});var m=a(1474);let x=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))});var h=a(9014),p=a(3367),u=a(3640);function g(e){var t;let{book:a,isOpen:l,onClose:c}=e,[d,x]=(0,r.useState)([]),[h,g]=(0,r.useState)(1),[b,f]=(0,r.useState)(!0),[y,v]=(0,r.useState)(null),[j,w]=(0,r.useState)(16),[N,k]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),[S,L]=(0,r.useState)("sample");(0,r.useEffect)(()=>{l&&a&&O()},[l,a]);let O=async()=>{f(!0),v(null);try{let e=await fetch("/api/books/".concat(a.book_id,"/content-db")),t=await e.json();if(t.success&&t.data&&t.data.chapters&&t.data.chapters.length>0){let e=t.data.chapters.map((e,t)=>({chapter:t+1,title:e.title||"Chapter ".concat(t+1),content:e.paragraphs.map(e=>'<div class="paragraph mb-4" data-para-id="'.concat(e.para_id,'" data-refcode="').concat(e.refcode_short||"",'">\n              ').concat(e.content,"\n              ").concat(e.refcode_short?'<span class="text-xs text-gray-500 ml-2">['.concat(e.refcode_short,"]</span>"):"","\n            </div>")).join("\n"),paragraphs:e.paragraphs}));x(e),L("database"),console.log("✅ Loaded ".concat(e.length," chapters from database"))}else Z(),L("sample"),console.log("\uD83D\uDCDD Using sample content - no database content available")}catch(e){console.warn("Could not load database content, using sample:",e),Z(),L("sample")}finally{f(!1)}},Z=()=>{let e=Math.min(Math.max(Math.floor(a.npages/20),5),30),t=[];for(let s=1;s<=e;s++)t.push({chapter:s,title:"Chapter ".concat(s),content:'\n          <div class="chapter-content">\n            <h2 class="text-2xl font-bold mb-6">Chapter '.concat(s,'</h2>\n            \n            <div class="paragraph mb-4" data-para-id="sample-').concat(a.book_id,"-").concat(s,'-1">\n              This is the opening content for Chapter ').concat(s,' of "').concat(a.title,'" by ').concat(a.author,'.\n              In a real implementation, this content would be fetched from the downloaded database content.\n              <span class="text-xs text-gray-500 ml-2">[').concat(a.code||"BOOK"," ").concat(s,'.1]</span>\n            </div>\n            \n            <div class="paragraph mb-4" data-para-id="sample-').concat(a.book_id,"-").concat(s,'-2">\n              The book "').concat(a.title,'" was published in ').concat(a.pub_year," and contains ").concat(a.npages,' pages \n              of valuable spiritual content. Each chapter contains multiple paragraphs with unique paragraph IDs \n              for citation and reference purposes.\n              <span class="text-xs text-gray-500 ml-2">[').concat(a.code||"BOOK"," ").concat(s,'.2]</span>\n            </div>\n            \n            <h3 class="text-xl font-semibold mt-8 mb-4">Section ').concat(s,'.1 - Key Principles</h3>\n            <div class="paragraph mb-4" data-para-id="sample-').concat(a.book_id,"-").concat(s,'-3">\n              This section would contain the actual content of the book, with proper paragraph \n              structure and reference codes. The content would be formatted with appropriate \n              typography and spacing for optimal reading experience.\n              <span class="text-xs text-gray-500 ml-2">[').concat(a.code||"BOOK"," ").concat(s,'.3]</span>\n            </div>\n            \n            <div class="paragraph mb-4" data-para-id="sample-').concat(a.book_id,"-").concat(s,'-4">\n              Each paragraph maintains the original structure and formatting of the published work. \n              Cross-references and footnotes are preserved and properly linked for scholarly study.\n              <span class="text-xs text-gray-500 ml-2">[').concat(a.code||"BOOK"," ").concat(s,'.4]</span>\n            </div>\n            \n            <h3 class="text-xl font-semibold mt-8 mb-4">Section ').concat(s,'.2 - Practical Application</h3>\n            <div class="paragraph mb-4" data-para-id="sample-').concat(a.book_id,"-").concat(s,'-5">\n              Additional content appears here, demonstrating how these principles apply to daily Christian living.\n              The formatting maintains readability while preserving the scholarly apparatus needed for citation.\n              <span class="text-xs text-gray-500 ml-2">[').concat(a.code||"BOOK"," ").concat(s,'.5]</span>\n            </div>\n            \n            <div class="paragraph mb-4" data-para-id="sample-').concat(a.book_id,"-").concat(s,'-6">\n              For a complete reading experience with actual downloaded content, the system would display:\n              <ul class="list-disc ml-6 mt-2">\n                <li>Original paragraphs from the EGW API</li>\n                <li>Proper paragraph-level referencing</li>\n                <li>Cross-reference functionality</li>\n                <li>Search capabilities within the text</li>\n                <li>Chapter navigation and bookmarking</li>\n              </ul>\n              <span class="text-xs text-gray-500 ml-2">[').concat(a.code||"BOOK"," ").concat(s,".6]</span>\n            </div>\n          </div>\n        ")});x(t)},_=e=>{"prev"===e&&h>1?g(h-1):"next"===e&&h<d.length&&g(h+1)};return l?(0,s.jsxs)("div",{className:"fixed inset-0 bg-white z-50 flex flex-col",children:[(0,s.jsx)("div",{className:"bg-white border-b shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:c,className:"text-gray-500 hover:text-gray-700 p-1",children:(0,s.jsx)(m.Z,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:a.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:a.author})]}),"database"===S&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Database Content"}),"sample"===S&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Sample Content"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>E(!C),className:"p-2 rounded-md ".concat(C?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"),children:(0,s.jsx)(o.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(Math.max(12,j-2)),className:"px-2 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"A-"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 min-w-[40px] text-center",children:[j,"px"]}),(0,s.jsx)("button",{onClick:()=>w(Math.min(24,j+2)),className:"px-2 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"A+"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>_("prev"),disabled:1===h,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:(0,s.jsx)(p.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 min-w-[60px] text-center",children:[h," / ",d.length]}),(0,s.jsx)("button",{onClick:()=>_("next"),disabled:h===d.length,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:(0,s.jsx)(i.Z,{className:"h-5 w-5"})})]})]})]}),C&&(0,s.jsx)("div",{className:"mt-4 max-w-md",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search in this book...",value:N,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})})]})}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden flex",children:[(0,s.jsx)("div",{className:"w-64 bg-gray-50 border-r overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Chapters"}),(0,s.jsx)("div",{className:"space-y-1",children:d.map(e=>(0,s.jsx)("button",{onClick:()=>g(e.chapter),className:"w-full text-left px-3 py-2 text-sm rounded-md ".concat(h===e.chapter?"bg-primary-100 text-primary-900 font-medium":"text-gray-700 hover:bg-gray-100"),children:e.title},e.chapter))})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:b?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(n.Z,{className:"h-8 w-8 text-primary-600 animate-pulse mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading book content..."})]})}):y?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(u.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Content"}),(0,s.jsx)("p",{className:"text-gray-600",children:y})]})}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,s.jsx)("div",{className:"prose prose-lg max-w-none",style:{fontSize:"".concat(j,"px"),lineHeight:"1.7"},dangerouslySetInnerHTML:{__html:(null===(t=d.find(e=>e.chapter===h)||d[0])||void 0===t?void 0:t.content)||"<p>Loading chapter content...</p>"}}),(0,s.jsx)("div",{className:"border-t mt-12 pt-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>_("prev"),disabled:1===h,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed rounded-md border border-gray-300 hover:bg-gray-50",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Previous Chapter"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Chapter ",h," of ",d.length]}),(0,s.jsxs)("button",{onClick:()=>_("next"),disabled:h===d.length,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed rounded-md border border-gray-300 hover:bg-gray-50",children:["Next Chapter",(0,s.jsx)(i.Z,{className:"h-4 w-4 ml-2"})]})]})})]})})]})]}):null}function b(){var e,t,a;let[p,u]=(0,r.useState)(null),[b,f]=(0,r.useState)([]),[y,v]=(0,r.useState)(!0),[j,w]=(0,r.useState)("en"),[N,k]=(0,r.useState)(null),[C,E]=(0,r.useState)(null),[S,L]=(0,r.useState)(new Set(["egw"])),[O,Z]=(0,r.useState)(""),[_,D]=(0,r.useState)(!1),[B,M]=(0,r.useState)(!1),[A,P]=(0,r.useState)(null),[R,W]=(0,r.useState)(new Set),[F,K]=(0,r.useState)(1),[T,z]=(0,r.useState)(1),[I,U]=(0,r.useState)(0);(0,r.useEffect)(()=>{H()},[j]),(0,r.useEffect)(()=>{N&&q()},[N,C,F,O]);let H=async()=>{try{let e=new URLSearchParams;"all"!==j&&e.append("language",j);let t=await fetch("/api/egw/books/categories?".concat(e.toString())),a=await t.json();a.success&&u(a.data)}catch(e){console.error("Error loading categories:",e)}},q=async()=>{if(N){v(!0);try{let e=new URLSearchParams;e.append("page",F.toString()),e.append("limit","24"),e.append("language",j),C?e.append("category","".concat(N,"/").concat(C)):e.append("category",N),O&&e.append("search",O);let t=await fetch("/api/egw/books?".concat(e.toString())),a=await t.json();a.success&&(f(a.data),U(a.total),z(a.totalPages))}catch(e){console.error("Error loading books:",e)}finally{v(!1)}}},G=e=>{let t=new Set(S);t.has(e)?t.delete(e):t.add(e),L(t)},Y=(e,t)=>{k(e),E(t||null),K(1),f([])},J=e=>{let t=new Set(R);t.has(e)?t.delete(e):t.add(e),W(t)},Q=e=>{P(e),M(!0)};return p?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white border-b py-4",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l,{className:"h-5 w-5 text-gray-600"}),(0,s.jsx)("select",{value:j,onChange:e=>w(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-gray-900 focus:ring-primary-500 focus:border-primary-500",children:[{code:"en",name:"English"},{code:"es",name:"Espa\xf1ol"},{code:"fr",name:"Fran\xe7ais"},{code:"pt",name:"Portugu\xeas"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"ru",name:"Русский"},{code:"zh",name:"中文"}].map(e=>(0,s.jsx)("option",{value:e.code,children:e.name},e.code))})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border sticky top-4",children:[(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Browse by Category"})}),(0,s.jsx)("div",{className:"divide-y",children:Object.entries(p.categories).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>G(t),className:"w-full p-4 text-left hover:bg-gray-50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-lg",children:a.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[a.total," books"]})]})]}),S.has(t)?(0,s.jsx)(c,{className:"h-4 w-4 text-gray-400"}):(0,s.jsx)(i.Z,{className:"h-4 w-4 text-gray-400"})]}),S.has(t)&&(0,s.jsxs)("div",{className:"bg-gray-50 border-t",children:[(0,s.jsxs)("button",{onClick:()=>Y(t),className:"w-full p-3 text-left text-sm hover:bg-gray-100 ".concat(N!==t||C?"text-gray-600":"bg-primary-50 text-primary-700 border-r-2 border-primary-600"),children:["All ",a.name]}),Object.entries(a.subcategories).map(e=>{let[a,r]=e;return r.count>0&&(0,s.jsxs)("button",{onClick:()=>Y(t,a),className:"w-full p-3 text-left text-sm hover:bg-gray-100 flex justify-between ".concat(N===t&&C===a?"bg-primary-50 text-primary-700 border-r-2 border-primary-600":"text-gray-600"),children:[(0,s.jsx)("span",{children:r.name}),(0,s.jsx)("span",{className:"text-gray-400",children:r.count})]},a)})]})]},t)})})]})}),(0,s.jsx)("div",{className:"lg:col-span-3",children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search within category...",value:O,onChange:e=>{Z(e.target.value),K(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})})}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("nav",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)("button",{onClick:()=>k(null),className:"hover:text-primary-600",children:"Categories"}),(0,s.jsx)(i.Z,{className:"h-4 w-4 mx-2"}),(0,s.jsx)("span",{className:"text-gray-900",children:null===(e=p.categories[N])||void 0===e?void 0:e.name}),C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mx-2"}),(0,s.jsx)("span",{className:"text-gray-900",children:null===(a=p.categories[N])||void 0===a?void 0:null===(t=a.subcategories[C])||void 0===t?void 0:t.name})]})]})}),y?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(n.Z,{className:"h-8 w-8 text-primary-600 animate-pulse"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8",children:b.map(e=>(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow flex flex-col",children:(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-500 uppercase font-medium",children:[e.category,"/",e.subcategory]}),(0,s.jsx)("button",{onClick:()=>J(e.book_id),className:"text-gray-400 hover:text-red-500",children:R.has(e.book_id)?(0,s.jsx)(x,{className:"h-4 w-4 text-red-500"}):(0,s.jsx)(d,{className:"h-4 w-4"})})]}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.author}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2 flex-1",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[(0,s.jsx)("span",{children:e.pub_year}),(0,s.jsxs)("span",{children:[e.npages," pages"]}),(0,s.jsx)("span",{children:e.lang.toUpperCase()})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,s.jsx)("button",{onClick:()=>Q(e),className:"flex-1 px-3 py-2 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700 transition-colors",children:"\uD83D\uDCD6 Read"}),(0,s.jsx)(h.default,{href:"/books/".concat(e.book_id,"/pdf"),className:"px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-50 transition-colors",children:"\uD83D\uDCC4 PDF"})]})]})},e.book_id))}),T>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>K(Math.max(1,F-1)),disabled:1===F,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),(0,s.jsxs)("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",F," of ",T]}),(0,s.jsx)("button",{onClick:()=>K(Math.min(T,F+1)),disabled:F===T,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose a Category"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Browse our collection organized by type and content"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(p.categories).map(e=>{let[t,a]=e;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"text-3xl",children:a.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:a.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.description}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:[a.total," books available"]}),(0,s.jsx)("button",{onClick:()=>Y(t),className:"px-4 py-2 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700 transition-colors",children:"Browse Collection"})]})]})},t)})})]})})]})}),_&&A&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:A.title}),(0,s.jsx)("p",{className:"text-gray-600",children:A.author})]}),(0,s.jsx)("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)(m.Z,{className:"h-6 w-6"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:["Year: ",A.pub_year]}),(0,s.jsxs)("div",{children:["Pages: ",A.npages]}),(0,s.jsxs)("div",{children:["Language: ",A.lang.toUpperCase()]}),(0,s.jsxs)("div",{children:["Category: ",A.category,"/",A.subcategory]})]}),A.description&&(0,s.jsx)("div",{className:"mt-3 text-sm text-gray-600",children:A.description})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{D(!1),Q(A)},className:"flex-1 px-4 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 text-center font-medium",children:"\uD83D\uDCD6 Read"}),(0,s.jsx)(h.default,{href:"/books/".concat(A.book_id,"/pdf"),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-center font-medium",onClick:()=>D(!1),children:"\uD83D\uDCC4 PDF"})]})]})]})})}),A&&(0,s.jsx)(g,{book:A,isOpen:B,onClose:()=>M(!1)})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(n.Z,{className:"h-12 w-12 text-primary-600 animate-pulse mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading library..."})]})})}},9014:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var s=a(3795),r=a.n(s)},9603:function(e,t,a){"use strict";var s=a(2208);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))});t.Z=r},3367:function(e,t,a){"use strict";var s=a(2208);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))});t.Z=r},8967:function(e,t,a){"use strict";var s=a(2208);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});t.Z=r},3640:function(e,t,a){"use strict";var s=a(2208);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});t.Z=r},5999:function(e,t,a){"use strict";var s=a(2208);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=r},1474:function(e,t,a){"use strict";var s=a(2208);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=r}},function(e){e.O(0,[795,14,512,744],function(){return e(e.s=3397)}),_N_E=e.O()}]);